{"version":3,"sources":["components/Filter.js","components/Persons.js","components/ContactForm.js","services/phonebookService.js","App.js","index.js"],"names":["Filter","filteredResults","handleFiltering","value","onChange","Persons","filteredPersons","persons","handleDelete","DeleteButton","person","onClick","window","confirm","name","id","console","log","length","map","number","ContactForm","handleSubmit","newName","handleChange","newnumber","handlenumberChange","onSubmit","type","baseUrl","axios","get","then","response","data","newObj","post","put","delete","App","useState","setPersons","setNewName","setNewnumber","setFilteredResults","setFilteredPersons","message","setMessage","isError","setIsError","useEffect","phonebookService","BetterSucceedMessage","class","e","target","filter","row","toLowerCase","includes","some","bool","preventDefault","updateNameObject","idOfUpdateObject","find","returnedObject","setTimeout","catch","error","nameObject","concat","undefined","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad4bf883.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ filteredResults, handleFiltering }) => {\r\n\r\n  return (\r\n    <div>\r\n      filter shown with <input value={filteredResults} onChange={handleFiltering} />\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst Persons = ({ filteredResults, filteredPersons, persons, handleDelete }) => {\r\n  const DeleteButton = ({ person, handleDelete }) => <button onClick={() => {\r\n    const deleteTrue = window.confirm(`Do you want to delete ${person.name} from phonebook?`)\r\n    if (deleteTrue) {\r\n      handleDelete(person.id)\r\n    }\r\n    console.log(person.id)\r\n  }}>delete</button>\r\n  return (\r\n    <div>\r\n      {filteredResults.length > 1 ?\r\n        filteredPersons.map(person => <div key={person.id}><p >{person.name} {person.number}</p> <DeleteButton person={person} handleDelete={handleDelete} /></div>)\r\n        : persons.map(person => <div key={person.id}><p key={person.id}>{person.name} {person.number} </p> <DeleteButton person={person} handleDelete={handleDelete} /></div>)}\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst ContactForm = ({ handleSubmit, newName, handleChange, newnumber, handlenumberChange }) => {\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name: <input value={newName} onChange={handleChange} />\r\n      </div>\r\n      <div>\r\n        phone: <input value={newnumber} onChange={handlenumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ContactForm\r\n\r\n","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n//const baseUrl = 'http://localhost:3001/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObj => {\r\n  const request = axios.post(baseUrl, newObj)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObj) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObj)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deleteItem = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, deleteItem }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport ContactForm from './components/ContactForm'\nimport phonebookService from './services/phonebookService'\nimport './App.css'\n\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newnumber, setNewnumber] = useState('')\n  const [filteredResults, setFilteredResults] = useState('')\n  const [filteredPersons, setFilteredPersons] = useState([{}])\n  const [message, setMessage] = useState('')\n  const [isError, setIsError] = useState(false)\n\n  useEffect(() => {\n\n    phonebookService.getAll()\n      .then(response => {\n        setPersons(response)\n      })\n\n  }, [])\n\n\n\n  const BetterSucceedMessage = ({ message, isError }) => {\n    if (message === '') { return (<p></p>) }\n    if (isError) { return (<p class='error'>{message}</p>) }\n\n    return (<p class='success'>{message}</p>)\n\n\n  }\n\n  const handleSubmit = (e) => {\n    const nameIsAlreadyInThenumberBook = persons.map(person => person.name === newName).some(bool => bool)\n\n    if (nameIsAlreadyInThenumberBook) {\n      const updatePhoneNumber = window.confirm(`${newName} seems to be already added to numberbook. Do you want to update phone number?`);\n      if (updatePhoneNumber) {\n        e.preventDefault();\n        const updateNameObject = { name: newName, number: newnumber };\n        const idOfUpdateObject = persons.find(person => person.name === newName).id\n\n        phonebookService.update(idOfUpdateObject, updateNameObject)\n          .then(returnedObject => {\n            if (returnedObject === null) {\n              setPersons(persons.filter(person => person.id !== idOfUpdateObject));\n              setNewName('')\n              setNewnumber('')\n              setIsError(true)\n              setMessage(`${updateNameObject.name}'s info was already deleted`)\n              setTimeout(() => setMessage(''), 3000)\n              setTimeout(() => setIsError(false), 3000)\n              setPersons(persons.filter(person => person.id !== idOfUpdateObject))\n            } else {\n              setPersons(persons.map(person => person.id !== idOfUpdateObject ? person : returnedObject));\n              setNewName('')\n              setNewnumber('')\n              setMessage(`${updateNameObject.name}'s phonenumber now successfully updated`)\n              setTimeout(() => setMessage(''), 3000)\n            }\n          }).catch(error => {\n            console.log('ErrorfoPost', error)\n            setNewName('')\n            setNewnumber('')\n            setIsError(true)\n            setMessage(`${error.response.data.error}`)\n            setTimeout(() => setMessage(''), 3000)\n            setTimeout(() => setIsError(false), 3000)\n          });\n\n      }\n      e.preventDefault();\n      setNewName('');\n      setNewnumber('')\n      return;\n    }\n    e.preventDefault();\n    const nameObject = { name: newName, number: newnumber };\n\n\n    phonebookService.create(nameObject)\n      .then(returnedObject => {\n        setPersons(persons.concat(returnedObject));\n        setNewName('')\n        setNewnumber('')\n        setMessage(`${nameObject.name} is now successfully added to phonebook`)\n        setTimeout(() => setMessage(''), 3000)\n      }).catch(error => {\n        setNewName('')\n        setNewnumber('')\n        setIsError(true)\n        setMessage(`${error.response.data.error}`)\n        console.log('ErrorForPost', error.response.data.error)\n        setTimeout(() => setMessage(''), 3000)\n        setTimeout(() => setIsError(false), 3000)\n      });\n\n  }\n\n\n\n  const handleChange = (e) => { setNewName(e.target.value) }\n  const handlenumberChange = (e) => { setNewnumber(e.target.value) }\n\n\n  const handleDelete = (id) => {\n    phonebookService.deleteItem(id)\n      .then(response => {\n        console.log('Errors? ', response.error !== undefined)\n        setMessage(`${persons.find(row => row.id === id).name} is now successfully deleted`)\n        setPersons(persons.filter(person => person.id !== id))\n        setTimeout(() => setMessage(''), 3000)\n      }).catch(error => {\n        setIsError(true)\n        setMessage(`${persons.find(row => row.id === id).name} was already deleted from server`)\n        setTimeout(() => setMessage(''), 3000)\n        setTimeout(() => setIsError(false), 3000)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n  }\n\n  const handleFiltering = (e) => {\n    setFilteredResults(e.target.value)\n    if (filteredResults.length > 1)\n      setFilteredPersons(persons.filter(row => row.name.toLowerCase().includes(filteredResults.toLowerCase())))\n  }\n\n\n  return (\n    <div>\n      <h2>numberbook</h2>\n      <BetterSucceedMessage message={message} isError={isError} />\n      <Filter filteredResults={filteredResults} handleFiltering={handleFiltering} />\n      <ContactForm handleSubmit={handleSubmit} newName={newName} handleChange={handleChange} newnumber={newnumber} handlenumberChange={handlenumberChange} />\n      <h2>Numbers</h2>\n      <Persons filteredResults={filteredResults} filteredPersons={filteredPersons} persons={persons} handleDelete={handleDelete} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}